<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event-Driven Feedback Form</title>
</head>
<body>
  <form id="feedbackForm">
    <h2>Event-Driven Feedback Form</h2>

    <label for="name">Name:</label>
    <input type="text" id="name" placeholder="Enter your name" required><br><br>

    <label for="email">Email:</label>
    <input type="email" id="email" placeholder="Enter your email" required><br><br>

    <label for="type">Feedback Type:</label>
    <select id="type" onchange="showTypeMessage()">
      <option value="">Select one</option>
      <option value="Positive">Positive</option>
      <option value="Negative">Negative</option>
    </select><br><br>

    <label for="message">Message:</label>
    <textarea id="message" onkeyup="countCharacters()" maxlength="150"></textarea>
    <p id="charcount">150 characters remaining</p><br>

    <input type="checkbox" id="subscribe" onchange="toggleSubscription()"> Subscribe to newsletter<br><br>

    <button type="submit">Submit</button>
    <button type="reset">Reset</button>

    <p id="response"></p>
  </form>

  <script>
    const messageBox = document.getElementById('message');
    const charCount = document.getElementById('charcount');
    const form = document.getElementById('feedbackForm');
    const response = document.getElementById('response');
    const subscribe = document.getElementById('subscribe');

    function countCharacters() {
      const remaining = 150 - messageBox.value.length;
      charCount.textContent = `${remaining} characters remaining`;
    }

    function showTypeMessage() {
      alert("You selected a feedback type!");
    }

    function toggleSubscription() {
      if (subscribe.checked) {
        alert("Thank you for subscribing!");
      } else {
        alert("You have unsubscribed.");
      }
    }

    form.onsubmit = function(event) {
      event.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();

      if (name === "" || email === "") {
        response.style.color = "red";
        response.textContent = "Please fill out all required fields.";
      } else {
        response.style.color = "green";
        response.textContent = "Thank you for your feedback!";
        form.reset();
        charCount.textContent = "150 characters remaining";
      }
    };
  </script>
</body>
</html>
